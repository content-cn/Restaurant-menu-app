<!DOCTYPE html>
<html>
<head>
    <title>Our Menu</title>
    <link href="styles.css" rel="stylesheet"/>
    <link href="ourmenustyle.css" rel="stylesheet"/>
</head>
<body>
    <header>
        <nav class="navbar">
          <div class="logo">
            <img
              src="https://placehold.co/200x80?text=ShopLogo"
              alt="shop-logo"
              class="shop-logo"
            />
          </div>
          <div class="nav-right">
            <ul class="nav-links">
              <li><a href="index.html">Home</a></li>
              <li><a href="ourmenu.html">Our Menu</a></li>
              <li><a href="#offers">Our Offers</a></li>
              <li><a href="#about">Know us More</a></li>
              <li><a href="#orders">Your Order</a></li>
              <li><a href="cart.html">Cart (0)</a></li>
            </ul>
            <div class="login">
              <a href="login.html">Login/signup</a>
            </div>
          </div>
          <div class="right-hamburger">
          <img src="image.png" alt="hamburger" height="50px" width="50px"/>
          </div>
        </nav>
      </header>
    <section class="menu-heading" >
        <h3 class="overlay">Our Menu</h3>
    </section>
    <section class="categories-btn">
        
        <input class="search-input" placeholder="What do you want to search..." />
        <div class="button-group">
            <div>
              <button class="active">All</button></a>
            </div>
            <div>
                <a href="#beverages" > <button>Beverages</button></a>
            
            </div>
            <div>
                <a href="#main-course"><button>Main Course</button></a>
            </div>
            <div>
                <a href="#combos"> <button>Combos</button></a>
            </div>
        </div>
    </section>
    <section>
            <div class="ourmenu-category" id="search-items">
                
                <div class="ourmenu-items">
               </div>
            </div>
        
<!-- best seller -->
        <div class="ourmenu-category" id="best-seller">
            <div class="ourmenu-category-header">
              <h3>Best Seller</h3>
            </div>
            <div class="ourmenu-items">
           </div>
        </div>
    <!-- Trending -->
    <div class="ourmenu-category" id="trending">
        <div class="ourmenu-category-header">
            <h3>Trending</h3>
        </div>
        <div class="ourmenu-items">
            </div>
    </div>

      <!-- starter -->
      <div class="ourmenu-category" id="starter">
          <div class="ourmenu-category-header">
              <h3>Starter</h3>
          </div>
          <div class="ourmenu-items">
              <div class="ourmenu-card">
               </div>
      </div>

      <!-- Beverages -->
      <div class="ourmenu-category" id="beverages">
          <div class="ourmenu-category-header">
              <h3>Beverages</h3>
          </div>
          <div class="ourmenu-items">
             </div>
      </div>
      

<!-- Main Course -->
<div class="ourmenu-category" id="main-course">
    <div class="ourmenu-category-header">
        <h3>Main Course</h3>
    </div>
    <div class="ourmenu-items">
      
    </div>
</div>

<!-- combo -->
<section class="combo-comparison" id = "combos">
    <div class="container">
        <h2>Combo </h2>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th rowspan="2">Combo Size</th>
                    <th rowspan="2">Items</th>
                    <th colspan="2">Price</th>
                    <th rowspan="2">Add to Cart</th>
                </tr>
                <tr>
                    <th>Original</th>
                    <th>Discounted</th>
                </tr>
            </thead>
            <tbody>
                <!-- Small Combo -->
                 
                <tr>
                    <td>Small</td>
                    <td>
                        <div class="item">
                            <!-- <img src="https://placehold.co/200x100?text=item+1" alt="Item 1" /> -->
                            <p>Item Name 1</p>
                        </div>
                        <div class="item">
                            <!-- <img src="https://placehold.co/200x100?text=item+2" alt="Item 2" /> -->
                            <p>Item Name 2</p>
                        </div>
                        <div class="item">
                            <!-- <img src="https://placehold.co/200x100?text=item+3" alt="Item 3" /> -->
                            <p>Item Name 3</p>
                        </div>
                    </td>
                    <td><strike>$30</strike></td>
                    <td>$25</td>
                    <td><button class="cta-btn">Add to Cart</button></td>
                </tr>

                <!-- Medium Combo -->
                <tr>
                    <td>Medium</td>
                    <td>
                        <div class="item">
                            <!-- <img src="https://placehold.co/200x100?text=item+1" alt="Item 1" /> -->
                            <p>Item Name 1</p>
                        </div>
                        <div class="item">
                            <!-- <img src="https://placehold.co/200x100?text=item+2" alt="Item 2" /> -->
                            <p>Item Name 2</p>
                        </div>
                        <div class="item">
                            <!-- <img src="https://placehold.co/200x100?text=item+3" alt="Item 3" /> -->
                            <p>Item Name 3</p>
                        </div>
                    </td>
                    <td><strike>$40</strike></td>
                    <td>$35</td>
                    <td><button class="cta-btn">Add to Cart</button></td>
                </tr>

                <!-- Large Combo -->
                <tr>
                    <td>Large</td>
                    <td>
                        <div class="item">
                            <!-- <img src="https://placehold.co/200x100?text=item+1" alt="Item 1" /> -->
                            <p>Item Name 1</p>
                        </div>
                        <div class="item">
                            <!-- <img src="https://placehold.co/200x100?text=item+2" alt="Item 2" /> -->
                            <p>Item Name 2</p>
                        </div>
                        <div class="item">
                            <!-- <img src="https://placehold.co/200x100?text=item+3" alt="Item 3" /> -->
                            <p>Item Name 3</p>
                        </div>
                    </td>
                    <td><strike>$50</strike></td>
                    <td>$45</td>
                    <td><button class="cta-btn">Add to Cart</button></td>
                </tr>
            </tbody>
        </table>
    </div>
</section>

    </section>


     <!-- Footer -->
     <footer class="footer">
        <div class="footer-content">
          <!-- Logo Section -->
          <div class="footer-section logo-section">
            <img src="https://via.placeholder.com/150x50?text=ShopLogo" alt="Shop Logo" class="footer-logo" />
          </div>
      
          <!-- Quick Links Section -->
          <div class="footer-section links-section">
            <h3>Quick Links</h3>
            <ul class="footer-links">
              <li><a href="#menu">Our Menu</a></li>
              <li><a href="#offers">Our Offers</a></li>
              <li><a href="#about">Know What We Have Achieved</a></li>
            </ul>
          </div>
      
          <!-- Social & Subscription Section -->
          <div class="footer-section social-subscribe">
            <h3>Wanna Get Updated with Our Exciting Offers?</h3>
            <div class="social-links">
              <p>Follow us on:</p>
              <a href="#" class="social-link">Instagram</a> |
              <a href="#" class="social-link">Facebook</a> |
              <a href="#" class="social-link">Twitter</a>
            </div>
            <hr />
            <div class="subscribe-form">
              <input type="email" placeholder="Subscribe for daily exciting offers" />
              <button type="button">Subscribe</button>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>
            <a href="#terms">Terms & Conditions</a> |
            <a href="#privacy">Privacy Policy</a>    |
            <a href="#reserved">All Rights Reserved</a>
          </p>
         
        </div>
      </footer>
        
      <script>
      // This function is used to fetch the food items from the JSON file
      let foodItems =[]
async function fetchFoodItems() {
    try {
        // Fetch the data from 'fooditem.json' (make sure this file exists)
        const response = await fetch('https://mocki.io/v1/3073be3b-e808-47c0-9165-ec51182104d7'); 
        
        // If the fetch fails, show an error
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        
        // Parse the JSON data and pass it to the next function
         foodItems = await response.json(); 
        populateMenu(foodItems); // This function will display the food items
    } catch (error) {
        // If there's an error with the fetch, log it to the console
        console.error('There has been a problem with your fetch operation:', error);
    }
}
function createMenuItem(item) {
        return `
            <div class="ourmenu-card" >
                <img src="${item.imageurl}" alt="${item.title}" onclick="redirecttoproductdetails(${item.id})">
                <div class="menu-card-content" >
                    <h4>${item.title}</h4>
                    <p>${item.description}</p>
                    <span>Price: <strike class="strike-price">$${item.actual_price.toFixed(2)}</strike> $${item.selling_price.toFixed(2)}</span>
                </div>
                <div class="add-to-cart-btn">
                    <button class="cta-button" onclick="addToCart(${item.id}, '${item.title}', ${item.selling_price} , '${item.imageurl}')">Add to Cart</button>
                </div>
            </div>
        `;
    }

// This function will organize and display the food items
function populateMenu(foodItems) {
    // An object to store categories of food items
    const categories = {
        'best-seller': [],
        'trending': [],
        'starter': [],
        'beverages': [],
        'main-course': []
    };

    // Go through each food item
    foodItems.forEach(item => {
        // Add the item to 'best-seller' or 'trending' if applicable
        if (item.best_seller === "yes") {
            categories['best-seller'].push(item);
        }
        if (item.trending === "yes") {
            categories['trending'].push(item);
        }

        // Add the item to its category (starter, beverages, etc.)
        categories[item.category.toLowerCase().replace(" ", "-")].push(item);
    });


    // Now populate each category on the webpage
    // For each category (best-seller, trending, etc.), create HTML for its items
    for (const category in categories) {
        const categoryContainer = document.getElementById(category);
        if (categoryContainer) {
            const itemsHTML = categories[category].map(createMenuItem).join('');
            categoryContainer.querySelector('.ourmenu-items').innerHTML = itemsHTML;
        }
    }
}

// Function to add item to the cart
function addToCart(itemId, title, price,imageurl) {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    // Check if the item already exists in the cart
    const itemIndex = cart.findIndex(item => item.id === itemId);
    
    if (itemIndex > -1) {
        // If item exists, update the quantity
        cart[itemIndex].quantity += 1;
    } else {
        // If item doesn't exist, add new item to the cart
        cart.push({ id: itemId, title: title, price: price, quantity: 1 ,imageurl:imageurl });
    }

    // Save the updated cart back to localStorage
    localStorage.setItem('cart', JSON.stringify(cart));

    // Display success message
    showSuccessMessage(`${title} has been added to your cart!`);
}

// Function to display success message
function showSuccessMessage(message) {
    const messageDiv = document.createElement('div');
    messageDiv.classList.add('success-message');
    messageDiv.textContent = message;
    document.body.appendChild(messageDiv);

    // Remove the message after 3 seconds
    setTimeout(() => {
        messageDiv.remove();
    }, 3000);
}
function redirecttoproductdetails(id){
    window.location.href = `product.html?id=${id}`;
}
function searchItems(query) {
    const searchContainer = document.getElementById('search-items').querySelector('.ourmenu-items');
    searchContainer.innerHTML = ''; // Clear any previous search results

    const filteredItems = foodItems.filter(item =>
        item.title.toLowerCase().includes(query.toLowerCase())
    );

    if (filteredItems.length > 0) {
        const itemsHTML = filteredItems.map(createMenuItem).join('');
        searchContainer.innerHTML = itemsHTML;
    } else {
        searchContainer.innerHTML = '<p>No items found.</p>';
    }
}

// Event listener for search input
let timeout = null;
document.querySelector('.search-input').addEventListener('input', (event) => {
    const query = event.target.value;
    console.log(query)
    if (query) {
        // Clear the previous timeout if it exists
        if (timeout) {
            clearTimeout(timeout);
        }
        // Set a new timeout
        timeout = setTimeout(() => {
            searchItems(query);
        }, 1000); // Wait for 500ms before searching
    } else {
        // Optionally clear the search results if input is empty
        document.getElementById('search-items').querySelector('.ourmenu-items').innerHTML = '';
    }
});
// When the webpage is loaded, fetch the food items and display them
document.addEventListener('DOMContentLoaded', function() {
    fetchFoodItems(); // Fetch food items when the page loads
});




fetchData();


    </script>
    
</body>
</html>



